tinymce.PluginManager.add("gpfullscreen",function(a){function b(){f.gp_fullscreen=!0,a.dom.addClass(a.getDoc().documentElement,"gp-fullscreen"),a.execCommand("gpAutoResizeOn")}function c(){f.gp_fullscreen=!1,a.dom.removeClass(a.getDoc().documentElement,"gp-fullscreen"),a.execCommand("gpAutoResizeOff")}function d(){return"undefined"!=typeof gp&&gp.editor&&gp.editor.fullscreen}function e(){var b=d();b&&(a.getParam("gp_fullscreen")?b.off():b.on())}var f=a.settings;a.addCommand("gpFullScreenOn",b),a.addCommand("gpFullScreenOff",c),a.addCommand("gpFullScreen",e),a.on("keydown",function(a){var b;27===a.keyCode&&(b=d())&&b.settings.visible&&b.off()}),a.on("init",function(){a.getParam("gp_fullscreen")&&b()}),a.addButton("gp_fullscreen",{tooltip:"Distraction-free writing mode",shortcut:"Alt+Shift+W",onclick:e,classes:"gp-fullscreen btn widget"}),a.addMenuItem("gp_fullscreen",{text:"Distraction-free writing mode",icon:"gp_fullscreen",shortcut:"Alt+Shift+W",context:"view",onclick:e})});